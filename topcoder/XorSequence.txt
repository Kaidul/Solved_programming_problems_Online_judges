<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>You are given an integer sequence A and an int <b>N</b> that is a power of 2.
All elements of A are between 0 and <b>N</b>-1, inclusive.<br></br><br></br>

You can now choose an integer B which is between 0 and <b>N</b>-1, inclusive.
This integer determines a new sequence C defined as follows:
For each valid i, C[i] = (<b>A</b>[i] xor B).<br></br><br></br>

Given the sequence C, we will count the pairs of indices (i,j) such that both i&lt;j and C[i]&lt;C[j].
Compute and return the largest result we can obtain.<br></br><br></br>

You are given the int <b>N</b>.
You are also given ints <b>sz</b>, <b>A0</b>, <b>A1</b>, <b>P</b>, <b>Q</b>, and <b>R</b>.
Use the following pseudocode to generate the sequence A:<br></br><br></br>

<pre>
A[0] = A0;
A[1] = A1;
for (i = 2; i &lt; sz; i++) {
    A[i] = (A[i - 2] * P + A[i - 1] * Q + R) modulo N;
}
</pre></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>XorSequence</td></tr><tr><td>Method:</td><td>getmax</td></tr><tr><td>Parameters:</td><td>int, int, int, int, int, int, int</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long getmax(int N, int sz, int A0, int A1, int P, int Q, int R)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Watch out for integer overflow when generating the sequence A.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 2 and 1,073,741,824 (2^30), inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be a power of 2. </td></tr><tr><td align="center" valign="top">-</td><td><b>sz</b> will be between 2 and 131,072, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>A0</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>A1</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>P</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>Q</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>R</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>6</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 8</pre></td></tr><tr><td><table><tr><td colspan="2">Using the provided pseudocode you should compute that A={3,2,1,0,3,2}.
For B=3 we then get C={0,1,2,3,0,1}.
For this C there are 8 pairs (i,j) such that i&lt;j and C[i]&lt;C[j].
These are the 8 pairs: (0,1), (0,2), (0,3), (0,5), (1,2), (1,3), (2,3), and (4,5).
No other choice of B produces more than 8 pairs.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>8</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>4</pre></td></tr></table></td></tr><tr><td><pre>Returns: 13</pre></td></tr><tr><td><table><tr><td colspan="2">A={2,5,7,2,3,5,2,5}.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>8</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>4</pre></td></tr></table></td></tr><tr><td><pre>Returns: 12</pre></td></tr><tr><td><table><tr><td colspan="2">A={3,0,7,2,7,4,3}.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>32</pre></td></tr><tr><td><pre>15</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>9</pre></td></tr><tr><td><pre>11</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 60</pre></td></tr><tr><td><table><tr><td colspan="2">A={7,9,0,4,9,31,2,26,11,21,4,16,13,11,6}.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>131072</pre></td></tr><tr><td><pre>131072</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">All elements of A are equal to 7.
Regardless of the value of B you choose, all elements in C will be equal as well.
Thus, the number of pairs we seek is always zero.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>131072</pre></td></tr><tr><td><pre>131070</pre></td></tr><tr><td><pre>411</pre></td></tr><tr><td><pre>415</pre></td></tr><tr><td><pre>398</pre></td></tr><tr><td><pre>463</pre></td></tr><tr><td><pre>9191</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4302679760</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
